<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Debit Note</title>
<style>
    body {
        font-family: Arial, sans-serif;
    }

    * {
        font-size: 10px;
    }

    @media print {
        .table-container {
            page-break-inside: auto;
        }

        .table-container tr {
            page-break-inside: avoid;
            page-break-after: auto;
        }

        .container {
            width: 100%;
        }

        .footer,
        .header {
            page-break-after: auto;
        }
    }

    .container {
        width: 100%;
        margin: 0 auto;
    }

    .table-container {
        width: 100%;
        border-collapse: collapse;
    }

    .table-container,
    .table-container th,
    .table-container td {
        border: 1px solid black;
    }

    .table-container th,
    .table-container td {
        padding: 8px;
        text-align: left;
    }

    .table-container th {
        background-color: #f2f2f2;
    }

    .details,
    .bank-details {
        width: 100%;
        border-collapse: collapse;
    }

    .details td,
    .bank-details td {
        padding: 8px;
        border: 1px solid black;
    }

    .heading_name {
        text-align: center;
        margin-bottom: 0;
    }

    .header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .table-container .wide10 {
        width: 10%;
    }

    .table-container .wide15 {
        width: 15%;
    }

    .table-container .wide20 {
        width: 20%;
    }

    .table-container .wide30 {
        width: 30%;
    }

    .table-container .wide40 {
        width: 40%;
    }

    .table-container .wide50 {
        width: 50%;
    }

    .table-container .lb {
        border-left: none;
    }

    .table-container .rb {
        border-right: none;
    }

    .table-container .ub {
        border-top: none;
    }

    .table-container .bb {
        border-bottom: none;
    }

    .table-container li {
        list-style-type: none;
        line-height: 23px;
    }

    .company_logo {
        display: flex;
        align-items: center;
        justify-content: right;
    }

    .company_logo00 img,
    .company_logo img {
        max-width: 250px;
    }

    .company_detail {
        min-width: 40%;
    }
</style>
<div class="container">
    <!-- Header Section -->
    <table class="table-container">
        <tbody>
            <tr>
                <td style="text-align: center;width: 100%;font-weight: 600;font-size: 2em;">TAX INVOICE</td>
            </tr>
        </tbody>
    </table>
    <table class="table-container">
        <tbody>
            <tr>
                <td>
                    <div class="header">
                        <div class="company_logo"
                            style="float: left;margin-right: auto;width: 30%;display: inline-flex;justify-content: left;">
                            <img src="{{ bank_details.company_logo.url }}" alt="">
                        </div>
                        <div class="company_detail" style="float: left;margin-left: auto;width: 70%;text-align: right;">
                            <h2>{{ invoice.company.name }}</h2>
                            <p>{{ invoice.company.address }}<br>Phone No.: {{ invoice.company.phone }} <br> Email ID: {{
                                invoice.company.email }} <br> Email ID: {{ invoice.company.website }}</p>
                            <span>GST : {{ invoice.company.gst }}</span><br>
                            <span>CIN : {{ invoice.company.cin }}</span>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Invoice Details Section -->
    <table class="table-container">
        <tbody>
            <tr>
                <td class="wide50">Invoice Date : {{ invoice.invoice_date }}</td>
                <td class="wide50">Invoice No. : {{ invoice.invoice_number }}</td>
            </tr>
            <tr>
                <td>Transaction Date : {{ invoice.transaction_date }}</td>
                <td>Due Date : {{ invoice.due_date }}</td>
            </tr>
            <tr>
                <td>Service Source : {{ invoice.company.website }}</td>
                <td>Payment ID : {{ invoice.company.payment_id }}</td>
            </tr>
            <tr>
                <td colspan="2" style="text-align: center;">Customer Details</td>
            </tr>
        </tbody>
    </table>

    <!-- Customer Details Section -->
    <table class="table-container">
        <tbody>
            <tr>
                <td class="wide50">Customer Name : {{ invoice.customer_name }}</td>
                <td class="wide50">Customer Email : {{ invoice.customer_email }}</td>
            </tr>
            <tr>
                <td class="wide50">Customer Phone : {{ invoice.customer_phone}}</td>
                <td class="wide50">Customer Address : {{ invoice.customer_address }}</td>
            </tr>
        </tbody>
    </table>

    <!-- Items Table Section -->
    <table class="table-container">
        <tbody>
            <tr>
                <td class="wide15">SR. No.</td>
                <td class="wide20">Service Name</td>
                <td class="wide15">Qty</td>
                <td>Price/Service</td>
                <td class="wide20">Amount Incl Tax</td>
            </tr>
            {% for item in items %}
            <tr>
                <td style="text-align: right;">{{ forloop.counter }}</td>
                <td style="text-align: right;">{{ item.item_name}}</td>
                <td style="text-align: right;">{{ item.quantity }}</td>
                <td>{{ item.price_per_unit }}</td>
                <td style="text-align: right;">{{ item.price_incl_tax }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Totals Section -->
    <table class="table-container">
        <tbody>
            <tr>
                <td rowspan="3" class="wide10 rb"></td>
                <td rowspan="3" class="wide40 lb"></td>
                <td style="text-align: right;">Total Amount</td>
                <td style="text-align: right;" class="wide20">{{ invoice.total_taxable_amount }}</td>
            </tr>
            <tr>
                <td style="text-align: right;">IGST @18%</td>
                <td style="text-align: right;">{{ invoice.tax_amount }}</td>
            </tr>
            <tr>
                <td style="text-align: right;">Grand Total</td>
                <td style="text-align: right;">{{ invoice.total }}</td>
            </tr>
            <tr>
                <td class="wide15">In Words</td>
                <td colspan="3">{{ total_in_word }} only.</td>
            </tr>
        </tbody>
    </table>

    <!-- Bank Details Section -->
    <div class="footer">
        <table class="bank-details table-container wide50">
            <thead>
                <tr>
                    <th>Bank Details</th>
                    <th>Authority Sign</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Please Pay the QR/UPI/PAYMENT ID transfer in favour of '{{ invoice.company.name }}'</td>
                    <td></td>
                </tr>
                <tr>
                    <td>Bank Name: <b>{{ bank_details.bank_name }}</b></td>
                    <td>Account No. : <b>{{ bank_details.account_number }}</b></td>
                </tr>
                <tr>
                    <td>IFSC Code : <b>{{ bank_details.ifsc_code }}</b></td>
                    <td>GST No. : <b>{{ invoice.company.gst }}</b></td>
                </tr>
                <tr class="company_logo00 wide50">
                    <td><img style="width: 150px;" src="{{ bank_details.qr_scanner_image.url }}" alt="Scanner Image"
                            class="scanner-image" /></td>
                    <td><img style="width: 150px;" src="{{ bank_details.sign_seal_image.url }}" alt="Seal Image"
                            class="seal-image" /></td>
                </tr>
            </tbody>
        </table>
    </div>




</div>